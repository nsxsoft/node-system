import Vue from 'vue';
var touchFormField;
var DISTANCE_FROM_TOP = -200;
var scrollToThisField = function (element) {
    (Vue.prototype).$scrollTo.goTo(element, DISTANCE_FROM_TOP);
};
export var FormFieldDirective = {
    inserted: function (el, binding, vnode) {
        var formField = binding.value;
        touchFormField = function () { return formField.touch(); };
        el.addEventListener('blur', touchFormField, true);
    },
    update: function (el, binding, vnode) {
        var formField = binding.value;
        if (formField.shouldFocus) {
            if (el instanceof HTMLInputElement) {
                scrollToThisField(el);
                el.focus();
            }
            else {
                var selector = 'input, textarea, [contenteditable=true]';
                var elements = el.querySelectorAll(selector);
                if (elements.length > 0) {
                    scrollToThisField(elements[0]);
                    elements[0].focus();
                }
            }
            formField.shouldFocus = false;
        }
    },
    unbind: function (el, binding) {
        el.removeEventListener('blur', touchFormField, true);
    }
};
//# sourceMappingURL=form-field.js.map